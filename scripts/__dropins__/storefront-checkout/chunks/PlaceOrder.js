import{jsx as i}from"@dropins/tools/preact-jsx-runtime.js";import{classes as c}from"@dropins/tools/lib.js";import"./ToggleButton.js";import{Button as l}from"@dropins/tools/components.js";import{Text as a}from"@dropins/tools/i18n.js";import"@dropins/tools/event-bus.js";import{n as s}from"./fixtures.js";/* empty css                     */import"@dropins/tools/preact-compat.js";import"@dropins/tools/preact-hooks.js";import{B as m}from"./constants2.js";import{L as d}from"./constants3.js";import{S as f}from"./constants.js";const u=({className:e,children:o,...t})=>{const{onClick:r=()=>{},isLoading:n}=t;return i("div",{className:c(["checkout-place-order",e]),children:i(l,{className:c(["checkout-place-order__button",e]),size:"medium",variant:"primary",type:"submit",onClick:r,disabled:n,children:i(a,{id:"Checkout.PlaceOrder.button"})},"placeOrder")})},p=[d,f,m],h=e=>{const o=e.querySelector(":invalid");o&&(o.scrollIntoView({behavior:"smooth"}),o.focus())},O=()=>{const o=(Array.from(document.forms)||[]).filter(r=>p.includes(r.name)).filter(r=>r.offsetParent!==null).filter(r=>!r.checkValidity()),t=o.length===0;if(!t){const r=o[0];h(r)}return t},g=e=>{const{onClick:o,handleServerError:t}=e;return i(u,{onClick:async()=>{if(O())try{await o()}catch(n){t(n)}},isLoading:s.value.pending})};export{g as P};
