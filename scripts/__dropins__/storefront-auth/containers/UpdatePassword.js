/*! For license information please see UpdatePassword.js.LICENSE.txt */
import*as t from"@dropins/tools/event-bus.js";import*as e from"@dropins/tools/fetch-graphql.js";import*as r from"@dropins/tools/preact-compat.js";import*as n from"@dropins/tools/preact-hooks.js";import*as o from"@dropins/tools/preact-jsx-runtime.js";import*as a from"@dropins/tools/preact.js";export const id=846;export const ids=[846];export const modules={6613:(t,e,r)=>{function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r.d(e,{L:()=>a});var a=function(t){return t.reduce((function(t,e){if(!e)return t;if("string"==typeof e&&(t+=" ".concat(e)),Array.isArray(e)){var r=n(e,2),o=r[0],a=r[1];o&&a&&(t+=" ".concat(o))}return t}),"").trim()}},6105:(t,e,r)=>{r.d(e,{x:()=>u});var n=r(5883),o=r(294);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(){i=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function d(t,e,r,n){var a=e&&e.prototype instanceof w?e:w,i=Object.create(a.prototype),s=new N(n||[]);return o(i,"_invoke",{value:C(t,r,s)}),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var h="suspendedStart",m="suspendedYield",v="executing",y="completed",g={};function w(){}function b(){}function x(){}var S={};f(S,u,(function(){return this}));var L=Object.getPrototypeOf,j=L&&L(L(A([])));j&&j!==r&&n.call(j,u)&&(S=j);var E=x.prototype=w.prototype=Object.create(S);function _(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,i,s,u){var c=p(t[o],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return r("throw",t,s,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,r,n){var o=h;return function(a,i){if(o===v)throw Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var c=p(e,r,n);if("normal"===c.type){if(o=n.done?y:m,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=y,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=p(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(a(e)+" is not iterable")}return b.prototype=x,o(E,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=f(x,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,f(t,l,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},_(P.prototype),f(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new P(d(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},_(E),f(E,l,"Generator"),f(E,u,(function(){return this})),f(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),F(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;F(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function s(t,e,r,n,o,a,i){try{var s=t[a](i),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,o)}var u=function(){var t,e=(t=i().mark((function t(e,r,a){var s,u,c,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.AZ)("\n  mutation RESET_PASSWORD($email: String!, $resetPasswordToken: String!, $newPassword: String!){\n    resetPassword(email: $email,resetPasswordToken: $resetPasswordToken,newPassword: $newPassword)\n  }\n",{method:"POST",variables:{email:e,resetPasswordToken:r,newPassword:a}}).catch(n.n);case 2:return l=t.sent,t.abrupt("return",{message:null!=l&&null!==(s=l.errors)&&void 0!==s&&s.length?null==l||null===(u=l.errors[0])||void 0===u?void 0:u.message:"",success:Boolean(null==l||null===(c=l.data)||void 0===c?void 0:c.requestPasswordResetEmail)});case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){s(a,n,o,i,u,"next",t)}function u(t){s(a,n,o,i,u,"throw",t)}i(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}()},1414:(t,e,r)=>{r.d(e,{R:()=>V,A:()=>V});var n=r(6613),o=r(5292),a=r.n(o),i=r(9893),s=r.n(i),u=r(9383),c=r.n(u),l=r(6884),f=r.n(l),d=r(9088),p=r.n(d),h=r(7997),m=r.n(h),v=r(7871),y={};y.styleTagTransform=m(),y.setAttributes=f(),y.insert=c().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=p();a()(v.A,y);v.A&&v.A.locals&&v.A.locals;var g=r(6490),w=r(6263),b=r(1880),x=r(6105),S=r(446),L=function(t,e){return t.split("&").filter((function(t){return t.includes(e)})).map((function(t){return t.split("=")[1]}))[0]},j=r(7622),E=r(2885),_=r(9363);function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function C(){C=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),s=new N(n||[]);return o(i,"_invoke",{value:_(t,r,s)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function y(){}function g(){}function w(){}var b={};c(b,i,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==r&&n.call(S,i)&&(b=S);var L=w.prototype=y.prototype=Object.create(b);function j(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(o,a,i,s){var u=f(t[o],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==P(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):e.resolve(l).then((function(t){c.value=t,i(c)}),(function(t){return r("throw",t,i,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function _(e,r,n){var o=d;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var c=f(e,r,n);if("normal"===c.type){if(o=n.done?m:p,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=m,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(P(e)+" is not iterable")}return g.prototype=w,o(L,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=c(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,c(t,u,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},j(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new E(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},j(L),c(L,u,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),F(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;F(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function O(t,e,r,n,o,a,i){try{var s=t[a](i),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,o)}function k(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return F(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var N=function(t){var e=t.signInOnSuccess,r=t.passwordConfigs,n=t.routeRedirectOnSignIn,o=t.routeWrongUrlRedirect,a=t.onErrorCallback,i=t.onSuccessCallback,s=t.handleSetUpdateNotification,u=k((0,E.useState)({userName:"",status:!1}),2),c=u[0],l=u[1],f=k((0,E.useState)(""),2),d=f[0],p=f[1],h=k((0,E.useState)(!1),2),m=h[0],v=h[1],y=k((0,E.useState)(""),2),g=y[0],w=y[1],b=k((0,E.useState)(""),2),P=b[0],F=b[1],N=k((0,E.useState)(!1),2),A=N[0],I=N[1];(0,E.useEffect)((function(){var t=window.location.search;t.includes("token=")||t.includes("email=")||"function"!=typeof o||(window.location.href=null==o?void 0:o());var e=decodeURIComponent(t),r=L(e,"token"),n=L(e,"email");w(n),F(r)}),[o]);var T=(0,E.useCallback)(function(){var t,o=(t=C().mark((function t(o){var u,c,f,d,p,h,m,y;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o.preventDefault(),I(!0),u=(0,S.r)(o.target),c=(null==u?void 0:u.password)&&g&&P,f=(null==r?void 0:r.requiredCharacterClasses)||0,d=(null==r?void 0:r.minLength)||0,(0,j.L)(null==u?void 0:u.password,f)&&!(u.password<d)){t.next=10;break}return v(!0),I(!1),t.abrupt("return");case 10:if(c){t.next=14;break}return null==s||s({status:"error",text:"Oops, this is a temporary message just for demonstration purposes."}),I(!1),t.abrupt("return");case 14:return t.next=16,(0,x.x)(g,P,u.password);case 16:if(p=t.sent,h=p.message,!(m=p.success)||"function"!=typeof s){t.next=27;break}return e||"function"!=typeof n||(window.location.href=n()),t.next=23,(0,_.L)({email:g,password:u.password,handleSetUpdateNotification:s,onErrorCallback:a});case 23:null!=(y=t.sent)&&y.userName&&("function"==typeof n?window.location.href=n():(l({userName:null==y?void 0:y.userName,status:!0}),null==i||i(null==y?void 0:y.userName))),t.next=29;break;case 27:null==s||s({status:"error",text:h}),null==a||a({message:h,success:m});case 29:I(!1);case 30:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){O(a,n,o,i,s,"next",t)}function s(t){O(a,n,o,i,s,"throw",t)}i(void 0)}))});return function(t){return o.apply(this,arguments)}}(),[g,P,null==r?void 0:r.requiredCharacterClasses,null==r?void 0:r.minLength,s,e,a,n,i]);return{isSuccessful:c,updatePasswordValue:d,isClickSubmit:m,isLoading:A,submitUpdatePassword:T,handleSetUpdatePasswordValue:(0,E.useCallback)((function(t){p(t)}),[])}},A=r(9738),I=r(1588),T=r(4336),U=r(3510),R=r(8115),G=r(7660),M=r(5127),q=function(t){t.loginOnPasswordUpdate;var e=t.signInOnSuccess,r=void 0===e||e,o=t.formSize,a=void 0===o?"default":o,i=t.routeRedirectOnSignIn,s=t.routeWrongUrlRedirect,u=t.successNotificationForm,c=t.onErrorCallback,l=t.onSuccessCallback,f=(0,w.i)().passwordConfigs,d=(0,G.S)(),p=d.updateNotification,h=d.handleSetUpdateNotification,m=N({signInOnSuccess:r,passwordConfigs:f,routeRedirectOnSignIn:i,routeWrongUrlRedirect:s,onErrorCallback:c,onSuccessCallback:l,handleSetUpdateNotification:h}),v=m.isSuccessful,y=m.updatePasswordValue,x=m.isClickSubmit,S=m.isLoading,L=m.submitUpdatePassword,j=m.handleSetUpdatePasswordValue,E=(0,b.d)({password:y,isClickSubmit:x,passwordConfigs:f}),_=E.isValidUniqueSymbols,P=E.defaultLengthMessage;return u&&v.status?u(v.userName):(0,M.jsxs)("div",{className:(0,n.L)(["auth-updatePasswordForm",a]),children:[(0,M.jsx)(A.h,{text:"Update password",bottomLine:!1,className:"auth-updatePasswordForm__title"}),(0,M.jsx)(R.G,{className:"auth-updatePasswordForm__notification",notificationStatus:p.status,notificationText:p.text}),(0,M.jsxs)(I.i,{name:"updatePassword_form",className:"auth-updatePasswordForm__form",submitCallback:L,isLoading:S,fieldsConfig:[],children:[(0,M.jsx)(T.s,{required:!0,className:"auth-updatePasswordForm__form__item",setPasswordValueCallback:j,isError:"error"===_,children:(0,M.jsx)(g.k,{minLength:null==f?void 0:f.minLength,requiredCharacterClasses:null==f?void 0:f.requiredCharacterClasses,validateLengthConfig:P,isValidUniqueSymbols:_})}),(0,M.jsx)("div",{className:"auth-updatePasswordForm__button",children:(0,M.jsx)(U.S,{type:"submit",buttonText:"Update password",variant:"primary",enableLoader:S})})]})]})},V=function(t){var e=t.formSize,r=t.signInOnSuccess,n=t.loginOnPasswordUpdate,o=t.routeRedirectOnSignIn,a=t.routeWrongUrlRedirect,i=t.successNotificationForm,s=t.onErrorCallback,u=t.onSuccessCallback;return(0,M.jsx)("div",{className:"auth-update-password",children:(0,M.jsx)(q,{formSize:e,signInOnSuccess:r,loginOnPasswordUpdate:n,routeRedirectOnSignIn:o,routeWrongUrlRedirect:a,onErrorCallback:s,onSuccessCallback:u,successNotificationForm:i})})}},7871:(t,e,r)=>{r.d(e,{A:()=>s});var n=r(8645),o=r.n(n),a=r(278),i=r.n(a)()(o());i.push([t.id,".auth-updatePasswordForm{\n  border-radius:var(--shape-border-radius-2);\n  background-color:var(--color-neutral-50, #fff);\n  padding:1rem 1rem 1.5rem 1rem;\n}\n\n@media (min-width: 768px){\n  .auth-updatePasswordForm{\n    padding:1.875rem 3rem 3rem 3rem;\n  }\n}\n\n.auth-updatePasswordForm.small{\n  padding:1rem 1rem 1.5rem 1rem;\n}\n\n.auth-updatePasswordForm.small .auth-updatePasswordForm__form__item{\n  margin-bottom:2rem;\n}\n\n.auth-updatePasswordForm.small .auth-updatePasswordForm__title{\n  margin-bottom:0.875rem;\n}\n\n.auth-updatePasswordForm__title{\n  margin-bottom:2rem;\n}\n\n@media (min-width: 768px){\n  .auth-updatePasswordForm__title{\n    margin-bottom:3rem;\n  }\n}\n\n.auth-updatePasswordForm__form .auth-updatePasswordForm__form__item{\n  margin-bottom:2rem;\n}\n\n@media (min-width: 768px){\n  .auth-updatePasswordForm__form .auth-updatePasswordForm__form__item{\n    margin-bottom:3rem;\n  }\n}\n\n.auth-updatePasswordForm__notification{\n  margin-bottom:1.5rem;\n}\n",""]);const s=i},278:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,o,a){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(n)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(i[u]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);n&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),r&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=r):l[2]=r),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},8645:t=>{t.exports=function(t){return t[1]}},5292:t=>{var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var a={},i=[],s=0;s<t.length;s++){var u=t[s],c=n.base?u[0]+n.base:u[0],l=a[c]||0,f="".concat(c," ").concat(l);a[c]=l+1;var d=r(f),p={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==d)e[d].references++,e[d].updater(p);else{var h=o(p,n);n.byIndex=s,e.splice(s,0,{identifier:f,updater:h,references:1})}i.push(f)}return i}function o(t,e){var r=e.domAPI(e);r.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,o){var a=n(t=t||[],o=o||{});return function(t){t=t||[];for(var i=0;i<a.length;i++){var s=r(a[i]);e[s].references--}for(var u=n(t,o),c=0;c<a.length;c++){var l=r(a[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=u}}},9383:t=>{var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},9088:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},6884:(t,e,r)=>{t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},9893:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var a=r.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},7997:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},1178:(e,r,n)=>{e.exports=(t=>{var e={};return n.d(e,t),e})({events:()=>t.events})},5867:(t,r,n)=>{t.exports=(t=>{var e={};return n.d(e,t),e})({FetchGraphQL:()=>e.FetchGraphQL})},1771:(t,e,n)=>{t.exports=(t=>{var e={};return n.d(e,t),e})({Suspense:()=>r.Suspense,createContext:()=>r.createContext,lazy:()=>r.lazy,memo:()=>r.memo,useRef:()=>r.useRef,useState:()=>r.useState})},2885:(t,e,r)=>{t.exports=(t=>{var e={};return r.d(e,t),e})({useCallback:()=>n.useCallback,useContext:()=>n.useContext,useDebugValue:()=>n.useDebugValue,useEffect:()=>n.useEffect,useId:()=>n.useId,useImperativeHandle:()=>n.useImperativeHandle,useLayoutEffect:()=>n.useLayoutEffect,useMemo:()=>n.useMemo,useReducer:()=>n.useReducer,useRef:()=>n.useRef,useState:()=>n.useState})},997:(t,e,r)=>{t.exports=(t=>{var e={};return r.d(e,t),e})({Fragment:()=>o.Fragment,jsx:()=>o.jsx,jsxs:()=>o.jsxs})},7706:(t,e,r)=>{t.exports=(t=>{var e={};return r.d(e,t),e})({Component:()=>a.Component,Fragment:()=>a.Fragment,cloneElement:()=>a.cloneElement,createContext:()=>a.createContext,createElement:()=>a.createElement,createRef:()=>a.createRef,h:()=>a.h,hydrate:()=>a.hydrate,options:()=>a.options,render:()=>a.render,toChildArray:()=>a.toChildArray})},5127:(t,e,r)=>{r(1771);var n=r(997);r.o(n,"Fragment")&&r.d(e,{Fragment:function(){return n.Fragment}}),r.o(n,"jsx")&&r.d(e,{jsx:function(){return n.jsx}}),r.o(n,"jsxs")&&r.d(e,{jsxs:function(){return n.jsxs}})}};import i from"../runtime.js";import*as s from"../388.js";i.C(s);import*as u from"../783.js";i.C(u);import*as c from"../616.js";i.C(c);import*as l from"../363.js";i.C(l);import*as f from"../810.js";i.C(f);import*as d from"./UpdatePassword.js";i.C(d);var p,h=(p=1414,i(i.s=p)),m=h.R,v=h.A;export{m as UpdatePassword,v as default};